<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Inference under the lineup protocol • vinference</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Inference under the lineup protocol">
<meta property="og:description" content="p-value calculation for different scenarios of the lineup
    protocol. For specific lineup sizes (m = 3, 20) theoretical p-values
    are computed for up to K=100 evaluations. Other lineup sizes or more
    evaluations use a simulation approach.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">vinference</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://github.com/heike/vinference/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="vinference" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#vinference" class="anchor"></a>vinference</h1></div>
<!-- badges: start -->

<p>The goal of vinference is to assist with the design and analysis of visual inference experiments.</p>
<p>For more information on visual inference, check out the <code>nullabor</code> R package or <a href="https://doi.org/10.1109/TVCG.2010.161">Wickham et al. (2010)</a>.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p><code>vinference</code> is not yet on CRAN; you can install the development version from <a href="https://github.com/">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"heike/vinference"</span><span class="op">)</span></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://github.com/heike/vinference">vinference</a></span><span class="op">)</span></pre></div>
<p>In visual inference, we can run experiments under 3 scenarios:</p>
<ol>
<li>Scenario 1: in each of K evaluations a different data set and a different set of (m-1) null plots is shown.</li>
<li>Scenario 2: in each of K evaluations the same data set but a different set of (m-1) null plots is shown.</li>
<li>Scenario 3: the same lineup, i.e. same data and same set of null plots, is shown to K different observers.</li>
</ol>
<p>To calculate a p-value for a set of 20-panel single-target lineups generated under Scenario 1 where the data plot was selected 10 times out of 30 observations,</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="reference/dVis.html">pVis</a></span><span class="op">(</span><span class="fl">10</span>, K <span class="op">=</span> <span class="fl">30</span>, m <span class="op">=</span> <span class="fl">20</span>, scenario <span class="op">=</span> <span class="fl">1</span>, lower.tail <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; [1] 1.161521e-06</span></pre></div>
<p>Under Scenario 3, however, we would use the same 20-panel single-target lineup and have 30 different participants evaluate it. Because we are using the same panels for each participant evaluation, there is dependence between the evaluations of different participants and we must account for this using a parameter <span class="math inline"><em>α</em></span> which provides information about the level of visual interest of the null panels. See XXX Stat paper citation for more information.</p>
<p>Suppose, for now, we know <span class="math inline"><em>α</em> ≈ 0.1</span>. Then our p-value for the lineup would be</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="reference/dVis.html">pVis</a></span><span class="op">(</span><span class="fl">10</span>, K <span class="op">=</span> <span class="fl">30</span>, m <span class="op">=</span> <span class="fl">20</span>, scenario <span class="op">=</span> <span class="fl">3</span>, alpha <span class="op">=</span> <span class="fl">0.1</span>, lower.tail <span class="op">=</span> <span class="cn">F</span><span class="op">)</span>
<span class="co">#&gt; [1] 0.2232121</span></pre></div>
<p>Probability (<code>dVis</code>) and quantile (<code>qVis</code>) functions are also available.</p>
<p>As discussed in XXX Cite stat paper XXX, we need to estimate the hyperparameter <span class="math inline"><em>α</em></span>, which describes the number of visually interesting null plots generated by the null model.</p>
<p>This approach is appropriate when you have several single or dual target lineup evaluations with similar (non-zero) number of null panel selections. Eliminate target panel selections and work with the remaining <span class="math inline"><em>K</em></span> total null panel selections and a <span class="math inline"><em>m</em><sub>0</sub></span> equal to the number of null panels. Determine how many selections <span class="math inline"><em>c</em></span> are required for a panel to be considered interesting (by default, we recommend <span class="math inline"><em>K</em>/<em>m</em><sub>0</sub></span>). Using your values for <span class="math inline"><em>c</em></span>, <span class="math inline"><em>K</em></span> and <span class="math inline"><em>m</em><sub>0</sub></span>, the <code>estimate_alpha_visual</code> function will create a plot with the expected number of null panels selected at least <span class="math inline"><em>c</em></span> times; simulated experiments will be plotted around the line to provide some measure of variability.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="reference/estimate_alpha_visual.html">estimate_alpha_visual</a></span><span class="op">(</span>m0 <span class="op">=</span> <span class="fl">19</span>, K <span class="op">=</span> <span class="fl">30</span>, c <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-3-1.png" width="100%"> If you have experimental data available, there is an additional function which may assist you with visual estimation: <code>observed_band</code>. The observed band function leverages an average number of panels or a range of panels to add additional cues to the plot. Suppose that we have several lineups which have <span class="math inline"><em>K</em> ≈ 30</span> evaluations; between 4 and 7 panels were selected in each lineup, with an average of 4.75 panels selected.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="reference/estimate_alpha_visual.html">estimate_alpha_visual</a></span><span class="op">(</span>m0 <span class="op">=</span> <span class="fl">19</span>, K <span class="op">=</span> <span class="fl">30</span>, c <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="reference/observed_band.html">observed_band</a></span><span class="op">(</span><span class="fl">4.75</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">7</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; Warning: Transformation introduced infinite values in continuous x-axis</span>

<span class="co">#&gt; Warning: Transformation introduced infinite values in continuous x-axis</span></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"> Using this cue, values of <span class="math inline"><em>α</em></span> between 0.075 and 0.12 might be most appropriate, with the best numerical estimate around <span class="math inline"><em>α</em> = 0.1</span>.</p>
<p>We can then examine whether our p-value of 9.67049710^{-4} corresponding to <span class="math inline"><em>α</em> = 0.1</span> results in a similar conclusion for all plausible <span class="math inline"><em>α</em></span> values in our observed range. At <span class="math inline"><em>α</em> = 0.0175</span>, the corresponding p-value is 0.0015002. At <span class="math inline"><em>α</em> = 0.012</span>, the corresponding p-value is 6.642673610^{-4}. In both cases, our lineup plot is significant, and we come to the same conclusion: the target plot is a significant visual statistic.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="http://github.com/heike/vinference/">http://​github.com/​heike/​vinference/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Heike Hofmann <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-6216-5183" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Susan Vanderplas <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3803-0972" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Christian Röttger <br><small class="roles"> Author </small>  </li>
<li>Di Cook <br><small class="roles"> Author </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="Lifecycle: maturing"></a></li>
<li><a href="https://travis-ci.org/heike/vinference"><img src="https://travis-ci.org/heike/vinference?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="/commits/master"><img src="https://img.shields.io/badge/last%20change-2020--10--10-yellowgreen.svg" alt="Last-changedate"></a></li>
<li><a href="https://travis-ci.com/heike/vinference"><img src="https://travis-ci.com/heike/vinference.svg?branch=master" alt="Travis build status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Heike Hofmann, Susan Vanderplas, Christian Röttger, Di Cook.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
